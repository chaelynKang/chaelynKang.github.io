---
layout: single
title: " Linux DNS Server "
categories: keduit
tags: [ linux, OS, Linuxserver, DNS ]
toc: true 
comments: true
author_profile: true
sidebar:
    nav: "docs"
---

# Dns Server

## DNS (Domain Name System) 
  
*  도메인 주소를 IP 주소로 변환하거나 IP 주소를 도메인 주소로 변환 한다. 

---

## Zone Database

![image](https://user-images.githubusercontent.com/128279031/229417142-720ded45-2b63-49ee-9df5-4c97517ef990.png)

* `Forward Zone` : 서버 이름에 대한 IP 주소를 정의한 파일

* `Reverse Zone` : IP 주소에 대한 서버 이름을 정의한 파일

* `Local Loopback Forward Zone` : localhost 이름에 대한 IP 127.0.0.1에 대한 정의한 파일

* `Loopback Reverse Zone` : IP 127.0.0.1에 대한 localhost 이름이 정의한 파일

* `Root Zone` : 현재 DNS 서버에서 찾지 못하면 찾아가는 최상위 DNS 서버 주소가 정의된 파일

---

## DNS Server의 종류


|종류|설명|
|:---:|:---:|
|마스터 서버|원본 데이터베이스 파일을 가지고 있음. 도메인별로 1대의 마스터 서버가 필요함.
|슬레이브 서버|마스터 서버의 원본 데이터베이스 파일의 복사본을 가짐. 마스터 서버의 부하를 분산하는 역할을 수행함.
|캐싱 서버|DB가 없고, 캐싱하는 역할을 수행.
|포워딩 서버|말그대로 포워딩, 연결만 하는 서버.
|스텁 서버|복사하여 동작함.

* 보통은 마스터 , 슬레이브 2대만 만들어서 운용한다.
* 캐싱, 포워딩 ,스텁 같은 경우에는 네이버, 구글같이 큰 서버를 운용하는 경우에 사용한다.

---

## DNS Server의 동작

![image](https://user-images.githubusercontent.com/128279031/229419653-3bd69af6-b6df-4fd5-8616-470bc404dd1b.png)

* 도메인 이름 해결 : 도메인 이름에 대한 IP주소를 찾는 것을 의미한다.
   

![image](https://user-images.githubusercontent.com/128279031/229419692-cc8ba7e3-b76a-476d-a17e-d6de63ef8dca.png)

* 마스터 DNS 서버 동작 흐름

![image](https://user-images.githubusercontent.com/128279031/229419751-f3ed9b3e-82f3-432e-99b8-0cae97440b46.png)

* 로컬 DNS 서버에 질의 받은 정보가 없을 때의 동작

---

# DNS Server 실습
![image](https://user-images.githubusercontent.com/128279031/229416080-44b97d74-7ed3-4731-970d-52f0364d177f.png)

```
먼저 GNS3에서 Ethernet 연결 확인.

CentOS7>

ping 163.126.63.1
