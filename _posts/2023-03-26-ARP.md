---
layout: single
title: "ARP"
categories: keduit
tags: [ TCP, IP, UDP ]
toc: true 
author_profile: false
sidebar:
    nav: "docs"
---

# ARP (Address Resolution Protocol)
* 이더넷 프레임을 만들기 위해서는 출발지 MAC 주소와 목적지 MAC 주소가 필요하다.
* 이더넷에서 상대방의 MAC주소를 알아내기 위해 사용하는 프로토콜이 ARP이다.

![image](https://user-images.githubusercontent.com/128279031/227777173-c7aae383-25dc-42be-a4ae-a99a9ae8ee11.png)

<center>< 국제 표준 이더넷 프레임 포맷과 이더넷 프레임 포맷 비교 ></center> 

--- 

## ARP 동작 방식

![image](https://user-images.githubusercontent.com/128279031/227777782-03a73d27-06f0-4d9b-a636-1b8141d4fc4c.png)

| 목적지 MAC 주소 | 출발지 MAC 주소 | 출발지 IP 주소 | 목적지 IP 주소 | 데이터
|:---:|:---:|:---:|:---:|:---:|
| ? | 0000.0000.0001 | 1.1.1.1 | 1.1.1.2 | 1010.. |

* 이처럼 R1입장에서 R2의 IP주소를 알지만 MAC 주소를 모를때 MAC 주소를 알아내기 위해 사용한다.

---

| 목적지 MAC 주소 | 출발지 MAC 주소 | 출발지 IP 주소 | 목적지 IP 주소 | 데이터
|:---:|:---:|:---:|:---:|:---:|
| FFFF.FFFF.FFFF | 0000.0000.0001 | 1.1.1.1 | 1.1.1.2 | ARP 요청 |

* 위의 표와 같이 R1은 목적지 MAC주소를 브로드캐스트 주소로 설정한 ARP 요청 프레임을 전송한다.
* ARP 요청 내용은 'IP 주소가 1.1.1.2 인 장비의 MAC 주소가 무엇인가?' 라는 내용에 해당된다.

---

| 목적지 MAC 주소 | 출발지 MAC 주소 | 출발지 IP 주소 | 목적지 IP 주소 | 데이터
|:---:|:---:|:---:|:---:|:---:|
| 0000.0000.0001 | 0000.0000.0002 | 1.1.1.2 | 1.1.1.1 | ARP 응답 |

* ARP 응답을 수신한 R1은 이제 목적지 IP 주소 1.1.1.2의 MAC주소를 알게 된다.
* 이때 R1 과 R2는 상대방의 IP주소와 MAC 주소에 대한 ARP 결과를 ARP 테이블에 저장한다.

---

| 목적지 MAC 주소 | 출발지 MAC 주소 | 출발지 IP 주소 | 목적지 IP 주소 | 데이터
|:---:|:---:|:---:|:---:|:---:|
| 0000.0000.0002 | 0000.0000.0001 | 1.1.1.1 | 1.1.1.2 | 1010... |

* 이와 같이 R2의 MAC주소와 IP주소를 알게된 R1은 완전한 이더넷 프레임을 만들 수 있다.
  
---  

# 트랜스패런트 브리징

